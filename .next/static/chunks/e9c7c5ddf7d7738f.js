(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},24091,e=>{"use strict";var r=e.i(43476),t=e.i(66027),a=e.i(90615),s=e.i(57688),l=e.i(22016),d=e.i(71645),i=e.i(25194);async function n(e){let{data:r,error:t}=await a.supabase.from("products").select("*").eq("id",e).single();if(t)throw Error(t.message);return r}function c({params:e}){let{id:a}=(0,d.use)(e),{addToCart:c}=(0,i.useCart)(),{data:o,isLoading:g,error:m}=(0,t.useQuery)({queryKey:["product",a],queryFn:()=>n(a)}),[x,h]=(0,d.useState)(1);return g?(0,r.jsxs)("div",{className:"min-h-screen bg-white dark:bg-gray-950 p-4 animate-pulse",children:[(0,r.jsx)("div",{className:"h-64 bg-gray-200 dark:bg-gray-800 rounded-lg w-full mb-4"}),(0,r.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-800 rounded w-3/4 mb-4"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-800 rounded w-1/2"})]}):m||!o?(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-950 p-4 text-center",children:[(0,r.jsx)("p",{className:"text-red-500 mb-4",children:"Error loading product"}),(0,r.jsx)(l.default,{href:"/",className:"text-blue-600 hover:underline",children:"Back to Store"})]}):(0,r.jsxs)("main",{className:"min-h-screen bg-white dark:bg-gray-950 pb-24",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(l.default,{href:"/",className:"absolute top-4 left-4 z-10 p-2 bg-white/80 dark:bg-black/50 backdrop-blur rounded-full text-gray-800 dark:text-white shadow-sm",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"m15 18-6-6 6-6"})})}),(0,r.jsx)("div",{className:"relative aspect-square w-full bg-gray-100 dark:bg-gray-900",children:o.image_url?(0,r.jsx)(s.default,{src:o.image_url,alt:o.name,fill:!0,className:"object-cover",priority:!0}):(0,r.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No Image"})})]}),(0,r.jsxs)("div",{className:"p-5 -mt-6 relative bg-white dark:bg-gray-950 rounded-t-3xl shadow-lg border-t border-gray-100 dark:border-gray-800",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:o.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o.category})]}),(0,r.jsx)("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB"}).format(o.price)})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Description"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed",children:o.description||"No description available."})]}),(0,r.jsxs)("div",{className:"mt-8 flex items-center gap-4",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Quantity"}),(0,r.jsxs)("div",{className:"flex items-center border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,r.jsx)("button",{onClick:()=>h(Math.max(1,x-1)),className:"p-2 px-3 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:"-"}),(0,r.jsx)("span",{className:"w-8 text-center font-medium",children:x}),(0,r.jsx)("button",{onClick:()=>h(x+1),className:"p-2 px-3 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:"+"})]})]})]}),(0,r.jsx)("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white dark:bg-gray-950 border-t border-gray-100 dark:border-gray-800 max-w-md mx-auto",children:(0,r.jsxs)("button",{onClick:()=>{c(o,x),window.Telegram?.WebApp?(window.Telegram.WebApp.HapticFeedback.impactOccurred("medium"),window.Telegram.WebApp.showPopup({title:"Added to Cart",message:`${x} x ${o.name} added.`,buttons:[{type:"ok"}]})):console.log(`${x} x ${o.name} added to cart!`)},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3.5 px-4 rounded-xl shadow-lg shadow-blue-500/30 active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("circle",{cx:"8",cy:"21",r:"1"}),(0,r.jsx)("circle",{cx:"19",cy:"21",r:"1"}),(0,r.jsx)("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]}),"Add to Cart"]})})]})}e.s(["default",()=>c])}]);