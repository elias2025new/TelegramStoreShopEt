module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},10179,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(72036),e=a.i(38246);function f(){let[a,f]=(0,c.useState)(""),[g,h]=(0,c.useState)({type:"idle",message:""}),[i,j]=(0,c.useState)(!1),k=async()=>{j(!0),h({type:"idle",message:""});try{let b;try{if(b=JSON.parse(a),!Array.isArray(b))throw Error("Input must be a JSON array of products.")}catch(a){throw Error("Invalid JSON format. Please check your syntax.")}let{data:c,error:e}=await d.supabase.from("products").insert(b).select();if(e)throw Error(e.message);h({type:"success",message:`Successfully uploaded ${c.length} products!`}),f("")}catch(a){h({type:"error",message:a.message||"An unknown error occurred."})}finally{j(!1)}};return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8 font-sans",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Bulk Upload"}),(0,b.jsx)(e.default,{href:"/",className:"text-blue-600 hover:underline text-sm",children:"Return to Store"})]}),(0,b.jsxs)("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-100 dark:border-blue-800",children:[(0,b.jsx)("h3",{className:"font-semibold text-blue-800 dark:text-blue-300 mb-2",children:"Instructions"}),(0,b.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-200 mb-2",children:"1. Paste your product data as a JSON array below."}),(0,b.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-200",children:["2. ",(0,b.jsx)("strong",{children:"Important:"})," Ensure your Supabase ",(0,b.jsx)("code",{children:"products"})," table has an INSERT policy enabled for public/anon users (for this MVP) or use authenticated role."]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Product JSON"}),(0,b.jsx)("button",{onClick:()=>{f(JSON.stringify([{name:"Premium Coffee Beans",description:"Organic Ethiopian Yirgacheffe coffee beans, 500g.",price:450,category:"Food & Drink",image_url:"https://images.unsplash.com/photo-1559056199-641a0ac8b55e?auto=format&fit=crop&q=80&w=1000"},{name:"Leather Wallet",description:"Handcrafted genuine leather wallet with multiple card slots.",price:1200,category:"Fashion",image_url:"https://images.unsplash.com/photo-1627123424574-724758594e93?auto=format&fit=crop&q=80&w=1000"},{name:"Wireless Earbuds",description:"High-quality sound with noise cancellation functionality.",price:3500,category:"Electronics",image_url:"https://images.unsplash.com/photo-1590658268037-6bf12165a8df?auto=format&fit=crop&q=80&w=1000"}],null,2))},className:"text-xs text-blue-600 hover:underline",children:"Load Sample Data"})]}),(0,b.jsx)("textarea",{value:a,onChange:a=>f(a.target.value),className:"w-full h-64 p-3 border border-gray-300 dark:border-gray-700 rounded-lg font-mono text-sm bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:'[{"name": "Item 1", "price": 100, ...}]'})]}),g.message&&(0,b.jsx)("div",{className:`p-4 rounded-lg mb-4 ${"success"===g.type?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"}`,children:g.message}),(0,b.jsx)("button",{onClick:k,disabled:i||!a,className:`w-full py-3 px-4 rounded-lg font-bold text-white transition-colors ${i?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:i?"Uploading...":"Upload Products"})]})})}a.s(["default",()=>f])}];

//# sourceMappingURL=_3eb3a0a2._.js.map